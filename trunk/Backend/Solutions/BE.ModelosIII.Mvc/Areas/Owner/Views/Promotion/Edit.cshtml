@model BE.ModelosIII.Tasks.Commands.Promotion.EditPromotionCommand

@{
    ViewBag.Title = "Editar Promoción - " + Model.Name;
    Layout = ViewBag.Layout;
}

<section class="utopia-widget">
    <div class="utopia-widget-title">
        <img class="utopia-widget-icon" src="/Content/img/icons/paragraph_justify.png">
        <span>Editar Promoción</span>
    </div>
    <div class="utopia-widget-content">
        @Html.Partial("_Form", Model)
    </div>
</section>


@section scripts {
    <script type="text/javascript" src="/Content/fancybox/jquery.fancybox.pack.js"></script>
    <script type="text/javascript" src="/Content/js/File/uploadFile.js"></script>
    <script type="text/javascript" src="/Content/js/bootstrap-datepicker.js"></script>
    <script type="text/javascript">
        $(function () {
            var dateSince = $(".datepickerSince").datepicker({
                format: "dd/mm/yyyy",
                weekStart: 0
            }).on('changeDate', function (ev) {
                if (ev.date.valueOf() > dateTo.date.valueOf()) {
                    var newDate = new Date(ev.date);
                    newDate.setDate(newDate.getDate());
                    dateTo.setValue(newDate);
                }
                dateSince.hide();
            }).data("datepicker");

            var dateTo = $(".datepickerTo").datepicker({
                format: "dd/mm/yyyy",
                weekStart: 0,
                onRender: function (date) {
                    return date.valueOf() < dateSince.date.valueOf() ? 'disabled' : '';
                }
            }).on('changeDate', function (ev) {
                dateTo.hide();
            }).data("datepicker");

            initializeFileUpload('#NewPoster');
            $('.previewPoster').fancybox();
        });
    </script>
}
@section css {
    <link href="/Content/fancybox/jquery.fancybox.css" rel="stylesheet" type="text/css" />
    <link href="/Content/styles/datepicker.css" rel="stylesheet" type="text/css" />
}
